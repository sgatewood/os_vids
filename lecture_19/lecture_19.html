<!DOCTYPE html>
<html>
<head>
	<title></title>
	<link rel="stylesheet" href="../styles.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"integrity="sha256-T0Vest3yCU7pafRw9r+settMBX6JkKN06dqBnpQ8d30="crossorigin="anonymous"></script>
	<link rel="stylesheet" href="http://code.jquery.com/ui/1.9.1/themes/base/jquery-ui.css">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/simplemde/latest/simplemde.min.css">
	<script src="https://cdn.jsdelivr.net/simplemde/latest/simplemde.min.js"></script>
	<script type="text/javascript" src="../script.js"></script>
</head>
<body>
	<h1 id='name'>Filesystems 3</h1>
	<div class="vid" tab="0" done="false">
		<h1>Intro / Flashback (04:15)</h1>
		<h2 class='go-back'>Go Back</h2>
		<div class='vid-placeholder' url='../offline/lecture_19.webm#t=00:00:00,04:15' duration='255' style='display: none;'></div>
	</div> <!-- vid -->
	<div class="vid" tab="0" done="false">
		<h1>xv6 filesystem (01:39)</h1>
		<h2 class='go-back'>Go Back</h2>
		<div class='vid-placeholder' url='../offline/lecture_19.webm#t=04:15,05:54' duration='99' style='display: none;'></div>
	</div> <!-- vid -->
	<div class="vid" tab="1" done="false">
		<h1>xv6 directories (00:17)</h1>
		<h2 class='go-back'>Go Back</h2>
		<div class='vid-placeholder' url='../offline/lecture_19.webm#t=05:54,06:11' duration='17' style='display: none;'></div>
	</div> <!-- vid -->
	<div class="vid" tab="1" done="false">
		<h1>Free block map (00:23)</h1>
		<h2 class='go-back'>Go Back</h2>
		<div class='vid-placeholder' url='../offline/lecture_19.webm#t=06:11,06:34' duration='23' style='display: none;'></div>
	</div> <!-- vid -->
	<div class="vid" tab="1" done="false">
		<h1>Finding free inodes (00:24)</h1>
		<h2 class='go-back'>Go Back</h2>
		<div class='vid-placeholder' url='../offline/lecture_19.webm#t=06:34,06:58' duration='24' style='display: none;'></div>
	</div> <!-- vid -->
	<div class="vid" tab="1" done="false">
		<h1>xv6 chooses first free block/inode (00:45)</h1>
		<h2 class='go-back'>Go Back</h2>
		<div class='vid-placeholder' url='../offline/lecture_19.webm#t=06:58,07:43' duration='45' style='display: none;'></div>
	</div> <!-- vid -->
	<div class="vid" tab="1" done="false">
		<h1>Direct and indirect blocks (04:05)</h1>
		<h2 class='go-back'>Go Back</h2>
		<div class='vid-placeholder' url='../offline/lecture_19.webm#t=07:43,11:48' duration='245' style='display: none;'></div>
		<div class='notes-container'>
		<div class='notes'>
<h1>Inode data block addresses</h1>
<ul>
<li>Inode stores an array of length <code>NDIRECT + 1</code><ul>
<li>Say NDIRECT is 12</li>
<li>indexes 0-11 are pointers to data blocks<ul>
<li>Actually just ~0-based indexes of the disk<ul>
<li>Not really 0 cuz of header block</li>
</ul>
</li>
</ul>
</li>
<li>index 12 points to an <strong>indirect block</strong><ul>
<li>Same size as the other data blocks</li>
<li>Filled with another array of <strong>direct</strong> pointers<ul>
<li>How many?</li>
<li><code>(Block Size) / (Pointer Size)</code><ul>
<li>xv6:<ul>
<li>512-byte blocks</li>
<li>2-byte ptrs</li>
<li>stores 256 2-byte ptrs</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1>So how much data?</h1>
<ul>
<li>12 direct blocks, 512 bytes each<ul>
<li>6144 bytes</li>
</ul>
</li>
<li>1 indirect block --&gt; 256 ptrs to 512-byte blocks<ul>
<li>131,072 bytes</li>
</ul>
</li>
</ul>
		</div>
		</div>
	</div> <!-- vid -->
	<div class="vid" tab="2" done="false">
		<h1>Why have any Direct blocks? (Faster & Less space for small files) (03:12)</h1>
		<h2 class='go-back'>Go Back</h2>
		<div class='vid-placeholder' url='../offline/lecture_19.webm#t=11:48,15:00' duration='192' style='display: none;'></div>
	</div> <!-- vid -->
	<div class="vid" tab="0" done="false">
		<h1>ext2 filesystem (00:43)</h1>
		<h2 class='go-back'>Go Back</h2>
		<div class='vid-placeholder' url='../offline/lecture_19.webm#t=15:00,15:43' duration='43' style='display: none;'></div>
	</div> <!-- vid -->
	<div class="vid" tab="1" done="false">
		<h1>ext2 inode structure (01:17)</h1>
		<h2 class='go-back'>Go Back</h2>
		<div class='vid-placeholder' url='../offline/lecture_19.webm#t=15:43,17:00' duration='77' style='display: none;'></div>
	</div> <!-- vid -->
	<div class="vid" tab="1" done="false">
		<h1>Double / Triple indirect (04:19)</h1>
		<h2 class='go-back'>Go Back</h2>
		<div class='vid-placeholder' url='../offline/lecture_19.webm#t=17:00,21:19' duration='259' style='display: none;'></div>
	</div> <!-- vid -->
	<div class="vid" tab="1" done="false">
		<h1>Exercise (09:20)</h1>
		<h2 class='go-back'>Go Back</h2>
		<div class='vid-placeholder' url='../offline/lecture_19.webm#t=21:19,30:39' duration='560' style='display: none;'></div>
		<div class='notes-container'>
		<div class='notes'>
<ul>
<li>12 direct (12 K)</li>
<li>1 indirect<ul>
<li>256 ptrs (256K)</li>
</ul>
</li>
<li>1 double indirect<ul>
<li>256 * 256 K</li>
</ul>
</li>
<li>1 triple indirect<ul>
<li>256 * 256 * 256 K</li>
</ul>
</li>
<li>16,843,020 (~16K)</li>
</ul>
		</div>
		</div>
	</div> <!-- vid -->
	<div class="vid" tab="0" done="false">
		<h1>Sparse files (03:01)</h1>
		<h2 class='go-back'>Go Back</h2>
		<div class='vid-placeholder' url='../offline/lecture_19.webm#t=30:39,33:40' duration='181' style='display: none;'></div>
	</div> <!-- vid -->
	<div class="vid" tab="0" done="false">
		<h1>Hard links (02:53)</h1>
		<h2 class='go-back'>Go Back</h2>
		<div class='vid-placeholder' url='../offline/lecture_19.webm#t=33:40,36:33' duration='173' style='display: none;'></div>
	</div> <!-- vid -->
	<div class="vid" tab="1" done="false">
		<h1>Soft/Symbolic links (01:33)</h1>
		<h2 class='go-back'>Go Back</h2>
		<div class='vid-placeholder' url='../offline/lecture_19.webm#t=36:33,38:06' duration='93' style='display: none;'></div>
	</div> <!-- vid -->
	<div class="vid" tab="0" done="false">
		<h1>xv6 FS pros vs FAT (00:53)</h1>
		<h2 class='go-back'>Go Back</h2>
		<div class='vid-placeholder' url='../offline/lecture_19.webm#t=38:06,38:59' duration='53' style='display: none;'></div>
	</div> <!-- vid -->
	<div class="vid" tab="0" done="false">
		<h1>Exercise (07:55)</h1>
		<h2 class='go-back'>Go Back</h2>
		<div class='vid-placeholder' url='../offline/lecture_19.webm#t=38:59,46:54' duration='475' style='display: none;'></div>
	</div> <!-- vid -->
	<div class="vid" tab="0" done="false">
		<h1>xv6 filesystem performance issues (01:29)</h1>
		<h2 class='go-back'>Go Back</h2>
		<div class='vid-placeholder' url='../offline/lecture_19.webm#t=46:54,48:23' duration='89' style='display: none;'></div>
	</div> <!-- vid -->
	<div class="vid" tab="0" done="false">
		<h1>Fast Filesystem (25:52)</h1>
		<h2 class='go-back'>Go Back</h2>
		<div class='vid-placeholder' url='../offline/lecture_19.webm#t=48:23,01:14:15' duration='1552' style='display: none;'></div>
	</div> <!-- vid -->
	<div class="vid" tab="0" done="false">
		<h1>END (00:00)</h1>
		<h2 class='go-back'>Go Back</h2>
		<div class='vid-placeholder' url='../offline/lecture_19.webm#t=01:14:15,01:14:15' duration='0' style='display: none;'></div>
	</div> <!-- vid -->
</body>
</html>
